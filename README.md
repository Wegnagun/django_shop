# django_shop
магазин на django

### Технологии: 
Django 4.1.9, django-taggit 3.0.0, Markdown 3.4.1
Celery 5.2.7, docker Образ RabbitMQ, обработка платежей Stripe 


### Установка: 
#### Windows
`python -m venv venv`

`venv/Scripts/activate`

`python -m pip install --upgrade pip`

`pip install -r requirements.txt`

`в корне проекта создать файл .env и поместить туда данные:`  
`KEY = ваш джанго ключ`  
`DBG = True (или False)`  
`STRIPE_PUBLISHABLE_KEY = 'ваш публичный ключ со stripe'`  
`STRIPE_SECRET_KEY = 'ваш секретный ключ со stripe'`  
`STRIPE_API_VERSION = 'версия апи stripe в формате (2022-08-01)'`  

#### запуск брокера RabbitMQ
`docker run -it --rm --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:management`  

#### запуск Celery очереди и Flower
Открываем 2 терминала, незабываем активировать окружение в них)    
`celery -A config worker -l info`  
запуск Flower  
`celery -A config flower`  


#### Тестовые данные карты для stripe  
|Результат     | Тестовая кредитная карта |  CVC                | Дата истечения срока действия  |  
------------- |--------------------------| ------------------- |--------------------------------|  
|Успешный платеж  | 4242 4242 4242 4242             |  Любые 3 цифры   |   Любая дата в будущем  |
|Неупешный платеж  | 4000 0000 0000 0002             |  Любые 3 цифры   |   Любая дата в будущем  |
|Требуется аутентификация 3D Secure  | 4000 0025 0000 3155             |  Любые 3 цифры   |   Любая дата в будущем  |

## Описание: 
- создана модель категорий товаров и их отображение в админке;  
- создана модель товаров и их отображение в админке, а также связь их с 
определенной категорией;  
- создана корзина товаров для покупки (добавление, удаление, отображение);  
- создана привязка корзины к сессии пользователя;  
- созданы кастомные фильтры для шаблонов (склонение русских слов в зависимости 
от числа);  
- созданы модели заказа и товаров в заказе и их отображение в админке;  
- создана система создания и оформления заказа, в результате чего создается 
оформленный заказ в базе данных с флагом "Не оплачено";  
- установлена Celery, для создания очереди заданий;  
- скачан и запущен докер образ RabbitMQ для организации обработки очереди заданий;  
- добавлена возможность онлайн оплаты (тестовый режим) через Stipe;  
- добавлено отображение ссылки на детали произведенной оплаты в админке;  
- начата работа над системой скидочных купонов!!!!!!!!!!!!!111!!!;  
- 